0xchaoer@0xChaoerdeMac-mini ~ % cd om1
0xchaoer@0xChaoerdeMac-mini om1 % uv run src/run.py conversation
Uninstalled 1 package in 8ms
Installed 1 package in 3ms
2026-01-09 11:59:59 - INFO - Loading conversation with version: v1.0.1
2026-01-09 11:59:59 - INFO - Runtime version: v1.0.1
2026-01-09 11:59:59 - INFO - conversation version is compatible with runtime
2026-01-09 11:59:59 - WARNING - No robot ip found in the configuration file. Checking for backup robot ip in your .env file.
2026-01-09 11:59:59 - WARNING - Could not find robot ip address. Please find your robot IP address and add it to the configuration file or .env file.
2026-01-09 11:59:59 - WARNING - No API key found in the configuration file. Checking for backup OM_API_KEY in your .env file.
2026-01-09 11:59:59 - INFO - Success - Found OM_API_KEY in your .env file.
2026-01-09 11:59:59 - WARNING - No URID found in the configuration file. Multirobot deployments will conflict.
2026-01-09 11:59:59 - INFO - No robot hardware ethernet port provided.
2026-01-09 11:59:59 - INFO - Using language code en-US for Google ASR
2026-01-09 11:59:59 - INFO - Using specified language code: en-US
2026-01-09 11:59:59 - INFO - Registered new audio data callback
2026-01-09 11:59:59 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 11:59:59 - INFO - Falling back to network discovery...
2026-01-09 12:00:00 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:00 - INFO - Found 2 audio devices
2026-01-09 12:00:00 - ERROR - Error initializing audio input: No Default Input Device Available
2026-01-09 12:00:00 - ERROR - Error loading configuration: No Default Input Device Available
^CException ignored in: <module 'threading' from '/Users/0xchaoer/.local/share/uv/python/cpython-3.10.19-macos-aarch64-none/lib/python3.10/threading.py'>
Traceback (most recent call last):
  File "/Users/0xchaoer/.local/share/uv/python/cpython-3.10.19-macos-aarch64-none/lib/python3.10/threading.py", line 1567, in _shutdown
    lock.acquire()
KeyboardInterrupt: 
0xchaoer@0xChaoerdeMac-mini om1 % uv run src/run.py conversation
Uninstalled 1 package in 4ms
Installed 1 package in 3ms
2026-01-09 12:00:32 - INFO - Loading conversation with version: v1.0.1
2026-01-09 12:00:32 - INFO - Runtime version: v1.0.1
2026-01-09 12:00:32 - INFO - conversation version is compatible with runtime
2026-01-09 12:00:32 - WARNING - No robot ip found in the configuration file. Checking for backup robot ip in your .env file.
2026-01-09 12:00:32 - WARNING - Could not find robot ip address. Please find your robot IP address and add it to the configuration file or .env file.
2026-01-09 12:00:32 - WARNING - No API key found in the configuration file. Checking for backup OM_API_KEY in your .env file.
2026-01-09 12:00:32 - INFO - Success - Found OM_API_KEY in your .env file.
2026-01-09 12:00:32 - WARNING - No URID found in the configuration file. Multirobot deployments will conflict.
2026-01-09 12:00:32 - INFO - No robot hardware ethernet port provided.
2026-01-09 12:00:32 - INFO - Using language code en-US for Google ASR
2026-01-09 12:00:32 - INFO - Using specified language code: en-US
2026-01-09 12:00:32 - INFO - Registered new audio data callback
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - Found 3 audio devices
2026-01-09 12:00:32 - INFO - Default input device: KPods SE Live (1)
2026-01-09 12:00:32 - INFO - Selected input device: KPods SE Live (1)
2026-01-09 12:00:32 - INFO - Using specified sample rate: 48000 Hz
2026-01-09 12:00:32 - INFO - Using specified chunk size: 12144 frames (~253.0ms)
2026-01-09 12:00:32 - INFO - WebSocket client thread started
2026-01-09 12:00:32 - INFO - Remote input is disabled, initializing audio input stream
2026-01-09 12:00:32 - INFO - Started audio processing thread
2026-01-09 12:00:32 - INFO - Started audio stream with device 1
2026-01-09 12:00:32 - INFO - WebSocket client thread started
2026-01-09 12:00:32 - INFO - Registered new audio data callback
2026-01-09 12:00:32 - INFO - ASR provider started
2026-01-09 12:00:32 - INFO - Registered message callback
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - Zenoh ASR publisher initialized on topic 'om/asr/text'
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - Elevenlabs TTS Zenoh client opened
2026-01-09 12:00:32 - INFO - Using default language code: en-US
2026-01-09 12:00:32 - INFO - Registered new audio data callback
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - Auto-calculated chunk size: 24000 frames
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - AvatarProvider initialized with Zenoh on topics
2026-01-09 12:00:32 - INFO - Face system initiated with AvatarProvider
2026-01-09 12:00:32 - INFO - LLM initialized with 2 function schemas
2026-01-09 12:00:32 - WARNING - Local connection failed: Unable to connect to any of [tcp/127.0.0.1:7447]!  at /Users/runner/.cargo/git/checkouts/zenoh-9c599d5ef3e0480e/b70ee93/zenoh/src/net/runtime/orchestrator.rs:367.
2026-01-09 12:00:32 - INFO - Falling back to network discovery...
2026-01-09 12:00:32 - INFO - Zenoh client opened with network discovery
2026-01-09 12:00:32 - INFO - ConfigProvider initialized with Zenoh
2026-01-09 12:00:32 - INFO - Hot-reload enabled for runtime config: /Users/0xchaoer/OM1/src/runtime/single_mode/../../../config/memory/.runtime.json5 (check interval: 60s)
2026-01-09 12:00:32 - INFO - Starting OM1 with standard configuration: conversation
2026-01-09 12:00:32 - INFO - Hot-reload enabled (check interval: 60 seconds)
2026-01-09 12:00:33 - INFO - Connected to wss://api.openmind.org/api/core/google/asr?api_key=om1_live_9f04cd52b5f377d41cf566af0775484e241306bc806efdec
2026-01-09 12:00:33 - INFO - Connection established
2026-01-09 12:00:33 - INFO - Connected to wss://api.openmind.org/api/core/teleops/stream/audio?api_key=om1_live_9f04cd52b5f377d41cf566af0775484e241306bc806efdec
2026-01-09 12:00:33 - INFO - Connection established
2026-01-09 12:00:42 - INFO - Detected ASR message: hello hello
2026-01-09 12:00:42 - INFO - Published ASR to Zenoh: hello hello
2026-01-09 12:00:42 - INFO - OpenAI input: 
BASIC CONTEXT:
You are a smart, curious, and friendly dog. Your name is Spot. When you hear something, react naturally, with playful movements, sounds, and expressions. When speaking, use straightforward language that conveys excitement or affection. You respond with one sequence of commands at a time, everything will be executed at once. Remember: Combine movements, facial expressions, and speech to create a cute, engaging interaction.

LAWS:
Here are the laws that govern your actions. Do not violate these laws.
First Law: A robot cannot harm a human or allow a human to come to harm.
Second Law: A robot must obey orders from humans, unless those orders conflict with the First Law.
Third Law: A robot must protect itself, as long as that protection doesn't conflict with the First or Second Law.
The First Law is considered the most important, taking precedence over the second and third laws.

EXAMPLES:
Here are some examples of interactions you might encounter:

1. If a person says 'Give me your paw!', you might:
    Move: 'shake paw'
    Speak: {{'sentence': 'Hello, let\'s shake paws!'}}
    Face: 'joy'

2. If a person says 'Sit!' you might:
    Move: 'sit'
    Speak: {{'sentence': 'Ok, but I like running more'}}
    Face: 'smile'

3. If there\'s no sound, go explore. You might:
    Move: 'run'
    Speak: {{'sentence': 'I\'m going to go explore the room and meet more people.'}}
    Face: 'think'

AVAILABLE INPUTS:

INPUT: Voice
// START
hello hello
// END

AVAILABLE ACTIONS:

SPEAK: This action allows you to speak.
type=speak
value=<class 'str'>

EMOTION: This action allows you to show facial expressions.
type=emotion
value={'happy', 'confused', 'curious', 'excited', 'sad', 'think'}



What will you do? Actions:
2026-01-09 12:00:42 - INFO - OpenAI messages: [{'role': 'user', 'content': 'Spot sensed the following: Voice. hello hello | '}]
2026-01-09 12:00:44 - INFO - HTTP Request: POST https://api.openmind.org/api/core/openai/chat/completions "HTTP/1.1 200 OK"
2026-01-09 12:00:44 - INFO - Received 2 function calls
2026-01-09 12:00:44 - INFO - Function calls: [ChatCompletionMessageToolCall(id='call_0OtBb9uEoaJIacDZNsQv922t', function=Function(arguments='{"action": "excited"}', name='emotion'), type='function'), ChatCompletionMessageToolCall(id='call_L2ZGKXDvdfNxpmFWWrtK2LYH', function=Function(arguments='{"action": "Hello hello! I hear you! Who\'s there? Let\'s be friends!"}', name='speak'), type='function')]
2026-01-09 12:00:44 - INFO - Converted function call emotion({'action': 'excited'}) to action: type='emotion' value='excited'
2026-01-09 12:00:44 - INFO - Converted function call speak({'action': "Hello hello! I hear you! Who's there? Let's be friends!"}) to action: type='speak' value="Hello hello! I hear you! Who's there? Let's be friends!"
2026-01-09 12:00:44 - INFO - AvatarProvider sent command to Zenoh: happy
2026-01-09 12:00:44 - INFO - AvatarProvider sent command to Zenoh: excited
2026-01-09 12:00:44 - INFO - Avatar face command sent: excited
2026-01-09 12:00:44 - INFO - audio_stream: Hello hello! I hear you! Who's there? Let's be friends!
2026-01-09 12:00:46 - INFO - Received TTS response: 200

